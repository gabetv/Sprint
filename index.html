<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Sprint !</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Luckiest+Guy&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <!-- Écran de Configuration -->
        <div id="configScreen" class="screen">
            <h1 class="game-title">Sprint ! 🏁</h1>
            <div class="config-section">
                <label for="team1Name">Équipe 1</label>
                <input type="text" id="team1Name" value="Les Fusées 🚀">
            </div>
            <div class="config-section">
                <label for="team2Name">Équipe 2</label>
                <input type="text" id="team2Name" value="Les Éclairs ⚡">
            </div>
            <div class="config-section">
                <label for="themeSelect">Thème des Mots</label>
                <select id="themeSelect">
                    <option value="">Chargement...</option>
                </select>
            </div>
            <div class="config-grid">
                <div class="config-section">
                    <label for="roundsToPlay">Manches</label>
                    <input type="number" id="roundsToPlay" value="1" min="1">
                </div>
                 <div class="config-section">
                    <label for="timePerTurn">Temps / Tour (s)</label>
                    <input type="number" id="timePerTurn" value="60" min="10">
                </div>
            </div>
            <button id="startGameBtn" class="primary-button">🎉 Jouer ! 🎉</button>
            <p id="loadingMessage" class="info-message hidden">Chargement des mots...</p>
        </div>

        <!-- Écran "Prêt Équipe" -->
        <div id="readyScreen" class="screen hidden">
            <h2 id="currentTeamTurnH2" class="screen-title">Au tour de l'équipe <span id="currentTeamNameReady"></span> !</h2>
            <p id="passPhoneInstruction" class="instruction-text">Passez le téléphone à un membre de l'équipe <span id="currentTeamNameInstruction"></span>. Les autres membres de l'équipe devinent. L'équipe adverse surveille attentivement !</p>
            <div class="rules-reminder card">
                <h3>Rappel des Points 🎯</h3>
                <p>Normal : <strong>1 pt</strong></p>
                <p>3 Mots Max : <strong>3 pts</strong></p>
                <p>En Mimant : <strong>5 pts</strong></p>
            </div>
            <button id="teamReadyBtn" class="action-button">Prêts à Sprinter !</button>
        </div>

        <!-- Écran de Jeu (Défi) -->
        <div id="gameScreen" class="screen hidden">
            <div id="timerDisplay" class="timer">00:00</div>
            <div id="wordToGuess" class="word-card">MOT À DEVINER</div>
            <p class="action-instructions">Comment le mot a-t-il été trouvé ?</p>
            
            <div class="actions-grid"> <!-- Changement ici pour la grille 2x2 -->
                <button id="guessNormalBtn" data-points="1" class="choice-button normal">Normal (1 pt)</button>
                <button id="guess3WordsBtn" data-points="3" class="choice-button three-words">3 Mots Max (3 pts)</button>
                <button id="guessMimeBtn" data-points="5" class="choice-button mime">En Mimant (5 pts)</button>
                <button id="passWordBtnGame" class="choice-button pass">PASSER LE MOT</button>
            </div>
            
            <!-- <div id="currentTurnScore" class="turn-score-display">Points ce tour : 0</div> Ligne pour le score du tour masquée/supprimée -->
        </div>

        <!-- Écran de Fin de Tour Équipe -->
        <div id="turnEndScreen" class="screen hidden">
            <h2 id="turnEndMessage" class="screen-title">⏱️ Temps écoulé pour l'équipe <span id="teamNameTurnEnd"></span> !</h2>
            <p id="turnScoreSummary" class="score-summary">Score déclaré : X points.</p>
            <p class="info-message pulse">Validation par l'équipe adverse...</p>
        </div>

        <!-- Écran de Validation de Tour par l'Équipe Adverse -->
        <div id="validationScreen" class="screen hidden">
            <h2 class="screen-title">🧐 Validation du Tour de l'équipe <span id="validatingTeamName"></span></h2>
            <p class="instruction-text">Équipe <span id="opponentTeamNameValidator"></span>, à vous de vérifier :</p>
            <div id="validationList" class="validation-area"></div>
            <div id="finalTurnScoreSection" class="card score-validation-summary">
                <p>Score initialement déclaré : <strong id="initialTurnScoreValidator">X</strong></p>
                <p>Score ajusté après validation : <strong id="adjustedTurnScoreValidator">Y</strong></p>
            </div>
            <button id="confirmValidationBtn" class="primary-button">Valider & Continuer 👍</button>
        </div>

        <!-- Écran de Fin de Partie -->
        <div id="gameOverScreen" class="screen hidden">
            <h2 class="screen-title">🏆 Partie Terminée ! 🏆</h2>
            <div class="final-scores card">
                <h3>Scores Finaux</h3>
                <p id="finalTeam1Score">Équipe Alpha : 0</p>
                <p id="finalTeam2Score">Équipe Bravo : 0</p>
            </div>
            <h3 id="winnerMessage" class="winner-announcement">L'équipe [Gagnante] remporte la partie !</h3>
            <button id="newGameBtn" class="primary-button">Rejouer une partie !</button>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>